<!--
WEBDESK TEMPLATE.HTML
This template is to be used with the application you build. Be sure to change "application"
with the name of your application in both template.js and in the styling of template.html
-->

<style>
body, html {
	font-family: Arial;
	min-height: 100vh;
}

section {
	position: absolute;
	left: 0;
	top: 0;
	/* set these so Chrome doesn't return 'auto' from getComputedStyle */
	background: rgba(255, 255, 255, 1);
	border: 2px solid rgba(0, 0, 0, 1);
	border-radius: 4px;
	padding: 8px;
    min-width: 350px;
    min-height: 100px;
	width: 400px;
	height: 400px;
}

.application{
    position: absolute;
    z-index: 9;
    text-align: center;
    display: block;
    border: 3px solid #f1f1f1;
    border-top-left-radius: 4px;
    border-top-right-radius: 4px;
	padding: 0 0 0 0;
	background-color: grey;
	z-index: 0;
    resize: both;
	overflow:scroll;
}

#header {
    padding: 10px;
    cursor: move;
    z-index: 10;
    background-color: #f1f1f1;
    color: #fff;
}

/* Container for columns and the top "toolbar" */
.row {
    padding: 0px;
    background: #f1f1f1;
    border-top-left-radius: 4px;
    border-top-right-radius: 4px;
}

/* Create three unequal columns that floats next to each other */
.column {
	float: left;
}

.left {
	float: left;
	width: 60px;
}

.right {
	float: right;
    width: 20px;
}

.middle {
	float:left;
	width: 70%;
}

/* Clear floats after the columns */
.row:after {
    content: "";
    display: table;
    clear: both;
}

/* Three dots */
.dot {
    margin-top: 4px;
    height: 15px;
    width: 12px;
    background-color: #bbb;
    border-radius: 50%;
    display: inline-block;
}

/* Three bars (hamburger menu) */
.bar {
    width: 17px;
    height: 3px;
    background-color: #aaa;
    margin: 3px 0;
    display: block;
}

/* App content */
#content {
    padding: 0px;
    overflow: auto;
	width:"100%";
	height:"100%";
}
</style>
<section draggable="true" class="application third" data-item="0">
	<div class="row" id="header">
		<div class="column left">
			<button class="dot" style="background:red;"></button>
			<button class="dot" style="background:yellow;"></button>
			<button class="dot" style="background:green;"></button>
		</div>
		<div class="column middle">
			<span style="color:black">Application Name</span>
		</div>
		<div class="column right">
			<div style="float:right">
				<span class="bar"></span>
				<span class="bar"></span>
				<span class="bar"></span>
			</div>
		</div>
	</div>
	<div class="content">
		<center>
			<h1>Insert your application content here.</h1>
			<h3>Don't forget to set your size and and names!</3>
		</center>
	</div>
</section>
<script>
function drag_start(event) {
	var style = window.getComputedStyle(event.target, null);
	event.dataTransfer.setData("text/plain", (parseInt(style.getPropertyValue("left"), 10) - event.clientX) + ',' + (parseInt(style.getPropertyValue("top"), 10) - event.clientY) + ',' + event.target.getAttribute('data-item'));
}

function drag_over(event) {
	event.preventDefault();
	return false;
}

function drop(event) {
	var offset = event.dataTransfer.getData("text/plain").split(',');
	var dm = document.getElementsByClassName('application');
	dm[parseInt(offset[2])].style.left = (event.clientX + parseInt(offset[0], 10)) + 'px';
	dm[parseInt(offset[2])].style.top = (event.clientY + parseInt(offset[1], 10)) + 'px';
	event.preventDefault();
	return false;
}

var dm = document.getElementsByClassName('application');
for (var i = 0; i < dm.length; i++) {
	dm[i].addEventListener('dragstart', drag_start, false);
	document.body.addEventListener('dragover', drag_over, false);
	document.body.addEventListener('drop', drop, false);
}

function toggleApplication() {
  var div = document.getElementById("application");
  if (div.style.display == "none") {
    div.style.display = "block";
  }
  else {
    div.style.display = "none";
  }
}
</script> 
